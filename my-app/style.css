  /* Основные переменные цветов */
        :root {
            --bg-primary: #1a1f29;
            --bg-secondary: #2d3a4b;
            --text-primary: #8f8f8f;
            --text-accent: #c8b560;
            --text-warning: #ff6b6b;
            --border-color: #5d6d7e;
            --btn-primary: #333333;
            --btn-success: #4a6f5a;
            --btn-secondary: #5a4a6f;
            --overlay-bg: rgba(45, 55, 70, 0.9);
            --overlay-text: #333333;
            --map-bg: #0d1117;
            --card-bg: rgba(40, 46, 56, 0.9);
            --shadow: 0 0 15px rgba(0,0,0,0.6);
        }
        
        /* Светлая тема */
        [data-theme="light"] {
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --text-primary: #333333;
            --text-accent: #8a6d3b;
            --text-warning: #d9534f;
            --border-color: #ced4da;
            --btn-primary: #4a5a6f;
            --btn-success: #4a6f5a;
            --btn-secondary: #6c757d;
            --overlay-bg: rgba(255, 255, 255, 0.9);
            --overlay-text: #333333;
            --map-bg: #f0f0f0;
            --card-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 0 15px rgba(0,0,0,0.1);
        }

        /* Общие стили */
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Arial', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .ol-layer{
          background-color: var(--bg-secondary);
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-accent);
            font-family: 'Tahoma', 'Arial Narrow', sans-serif;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .container-fluid {
            background-color: var(--bg-primary);
            padding: 15px;
            transition: background-color 0.3s;
        }
        
        /* Стили карты */
        #map-container {
            width: 100%;
            height: 80vh;
            background-color: var(--map-bg);
            position: relative;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow);
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        #measurements {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: bold;
            z-index: 1000;
            box-shadow: var(--shadow);
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        #instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 999;
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            max-width: 90%;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        .hidden {
            display: none !important;
        }
        
        #loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1001;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5rem;
        }
        
        #status-bar {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--card-bg);
            color: var(--text-accent);
            padding: 5px 10px;
            border-radius: 4px;
            z-index: 1000;
            font-size: 0.9rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        .key-hint {
            display: inline-block;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 3px;
            padding: 2px 6px;
            margin: 0 3px;
            font-family: monospace;
            font-size: 0.9em;
            color: var(--text-accent);
            transition: all 0.3s;
        }
        
        .measurement-item {
            padding: 5px 0;
            border-bottom: 1px solid var(--border-color);
            transition: border-color 0.3s;
        }
        
        .measurement-header {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-accent);
        }
        
        .distance-overlay {
            background: var(--overlay-bg);
            color: var(--overlay-text);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            text-shadow: 0 0 3px #000;
            transform: translate(-50%, -50%);
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        .delete-btn {
            color: var(--text-warning);
            cursor: pointer;
            margin-left: 10px;
            font-size: 0.8em;
            transition: color 0.3s;
        }
        
        .target-name {
            font-weight: bold;
            cursor: pointer;
            color: var(--text-accent);
            transition: color 0.3s;
        }
        
        .name-edit-input {
            width: 100px;
            padding: 2px 5px;
            border: 1px solid var(--border-color);
            border-radius: 3px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all 0.3s;
        }
        
        .context-menu {
            position: absolute;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-shadow: var(--shadow);
            z-index: 10000;
            display: none;
            transition: all 0.3s;
        }
        
        .context-menu-item {
            padding: 5px 10px;
            cursor: pointer;
            color: var(--text-primary);
            transition: background-color 0.3s;
        }
        
        .context-menu-item:hover {
            background-color: var(--btn-primary);
        }
        
        .name-overlay {
            background: var(--overlay-bg);
            color: var(--overlay-text);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            border: 1px solid var(--border-color);
            text-shadow: 0 0 3px #000;
            transition: all 0.3s;
        }
        
        /* Стилизация кнопок */
        .btn {
            background-color: var(--btn-primary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .btn:hover {
            background-color: var(--btn-primary);
            border-color: var(--border-color);
            color: var(--text-primary);
            filter: brightness(1.2);
        }
        
        .btn-primary {
            background-color: var(--btn-primary);
            border-color: var(--border-color);
        }
        
        .btn-success {
            background-color: var(--btn-success);
            border-color: var(--border-color);
        }
        
        .btn-secondary {
            background-color: var(--btn-secondary);
            border-color: var(--border-color);
        }
        
        /* Стилизация модального окна */
        .modal-content {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }
        
        .modal-header {
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-footer {
            border-top: 1px solid var(--border-color);
        }
        
        .form-control {
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            transition: all 0.3s;
        }
        
        .form-control:focus {
            background-color: var(--bg-primary);
            border-color: var(--text-accent);
            color: var(--text-primary);
            box-shadow: 0 0 0 0.2rem rgba(200, 181, 96, 0.25);
        }
        
        .form-label {
            color: var(--text-accent);
        }
        
        /* Индикатор загрузки */
        #loading-overlay {
            background: rgba(10, 15, 25, 0.85);
        }
        
        /* Переключатель темы */
        .theme-toggle {
            position: absolute;
            top: 30px;
            right: 220px;
            z-index: 1000;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }
        
        .theme-toggle i {
            margin-right: 5px;
            color: var(--text-accent);
        }
        
        .theme-toggle span {
            font-size: 0.9rem;
            color: var(--text-primary);
        }
    
        /* Разрешаем взаимодействие с картой под модальным окном ПОТОМУ ЧТО НАДО */
        #calibrationModal .modal-dialog {
            pointer-events: none;
        }

        #calibrationModal .modal-content {
            pointer-events: auto;
        }

        /* Добавить в секцию стилей */
        #calibrationModal .modal-content {
            pointer-events: auto;
        }

            /* Разрешаем взаимодействие с картой под модальным окном */
        #calibrationModal {
            pointer-events: none;
        }

        #calibrationModal .modal-content {
            pointer-events: auto;
        }

        #calibration-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(40, 46, 56, 0.9);
            color: #e0e0e0;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #5d6d7e;
            z-index: 1000;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            max-width: 300px;
        }

        .calibration-header {
            font-weight: bold;
            margin-bottom: 10px;
            color: #c8b560;
        }

        .calibration-instruction {
            margin-bottom: 10px;
        }
        
                .ballistics-table {
            max-height: 50vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 15px;
        }
        
        .ballistics-table table {
            margin-bottom: 0;
        }
        
        .ballistics-table th {
            position: sticky;
            top: 0;
            background-color: var(--btn-primary);
            color: var(--text-accent);
            z-index: 10;
        }
        
        .ballistics-table input {
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 3px 5px;
            width: 100%;
        }
        
        .ballistics-table .table-sm td {
            padding: 0.3rem;
        }
        
        .ring-tab-content {
            padding: 15px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 4px 4px;
        }
        
        .add-row-btn {
            margin-top: 10px;
        }